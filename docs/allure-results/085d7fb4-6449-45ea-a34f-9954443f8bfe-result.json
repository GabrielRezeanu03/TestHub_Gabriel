{"name": "Test job cities from the reginamaria website against Peviitor API Response", "status": "failed", "statusDetails": {"message": "AssertionError: Peviitor is having extra job cities for the following job titles: ['Specialist OH - Relatia Cu Clientii Corporate', 'Medic Medicina Generala MM Poliana', 'Asistent medical backup', 'Asistent Medical MM Poliana', 'Reprezentant Sales Support - Stem', 'Senior Specialist Relatia cu Autoritatile', 'Patient Advisor Backup', 'Senior Key Account Sales Manager', 'Medic Specialist Recuperare Medicala', 'Specialist Retentie si Loializare', 'Digital Marketing Specialist', 'Specialist backoffice medical', 'Digital Marketing Specialist', 'Specialist backoffice medical', 'Specialist laborator - divizia Poliana', 'Reprezentant vanzari Stem backup', 'Specialist laborator Poliana', 'Coordonator Puncte Recoltare - Cluj', 'Receptionist-Poliana', 'Senior Receptionist divizia Poliana', 'Receptionist - divizia Poliana', 'Asistent medical recoltare -Poliana', 'Medic Medicina Muncii', 'Asistent medical Medicina Muncii-divizia Poliana', 'Medic Medicina Muncii', 'Asistent medical Medicina Muncii-divizia Poliana', 'Asistent Medical Ambulatoriu', 'Asistent medical recoltare -Poliana', 'Medic Stomatolog Brasov', 'Medic Specialist Recuperare Medicala']", "trace": "get_job_details = ((['Team Leader Contact Center - Craiova', 'Asistent Medical Medicina Muncii', 'Specialist Birou Internari', 'Receptio...namaria', 'reginamaria', 'reginamaria', ...], ['on-site', 'on-site', 'on-site', 'on-site', 'on-site', 'on-site', ...]))\n\n    @pytest.mark.regression\n    @pytest.mark.API\n    def test_reginamaria_city_api(get_job_details):\n        allure.dynamic.title(f\"Test job cities from the {company_name} website against Peviitor API Response\")\n    \n        scraped_jobs_data, peviitor_jobs_data = get_job_details\n        with allure.step(\"Step 1: Get job cities and titles from the scraper\"):\n            job_cities_scraper = scraped_jobs_data[1]\n            job_titles_scraper = scraped_jobs_data[0]\n    \n        with allure.step(\"Step 2: Get job cities and titles from the Peviitor API\"):\n            job_cities_peviitor = peviitor_jobs_data[1]\n            job_titles_peviitor = peviitor_jobs_data[0]\n    \n        with allure.step(\"Step 3: Compare job cities from scraper response against Peviitor API Response\"):\n            allure.attach(f\"Expected Results: {job_cities_scraper}\", name=\"Expected Results\")\n            allure.attach(f\"Actual Results: {job_cities_peviitor}\", name=\"Actual Results\")\n>           TestUtils().check_job_cities(job_cities_scraper, job_cities_peviitor, job_titles_scraper, job_titles_peviitor)\n\ntests/Test_API_Suite/test_reginamaria.py:56: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests.utils.TestUtils object at 0x7f18edd0e1d0>\nexpected_cities = [['Craiova'], ['Cluj-Napoca'], ['Cluj-Napoca'], ['Bucuresti'], ['Timisoara'], ['Bucuresti'], ...]\nactual_cities = [['Craiova'], ['Cluj-Napoca'], ['Cluj-Napoca'], ['Bucuresti'], ['Timisoara'], ['Bucuresti'], ...]\njob_titles_scraper = ['Team Leader Contact Center - Craiova', 'Asistent Medical Medicina Muncii', 'Specialist Birou Internari', 'Receptionist Spitale si Policlinici', 'Brancardier', 'Biolog/biochimist/chimist - Laboratoare Regina Maria', ...]\napi_job_titles = ['Team Leader Contact Center - Craiova', 'Asistent Medical Medicina Muncii', 'Specialist Birou Internari', 'Receptionist Spitale si Policlinici', 'Brancardier', 'Biolog/biochimist/chimist - Laboratoare Regina Maria', ...]\n\n    def check_job_cities(self, expected_cities, actual_cities, job_titles_scraper, api_job_titles):\n        if not expected_cities:\n            msg = f\"Scraper is not grabbing any job cities\"\n            allure.step(msg)\n            raise AssertionError(msg)\n    \n        msg = \"An unknown error occurred\"\n    \n        # Check jobs from scraper against the peviitor api\n        scraper_actual_cities, scraper_job_titles = self.get_different_items(expected_cities, actual_cities, job_titles_scraper)\n    \n        if scraper_actual_cities:\n            msg = f\"Peviitor is missing job cities for the following job titles: {scraper_job_titles}\"\n            allure.step(msg)\n            raise AssertionError(msg)\n        else:\n            # Check jobs from peviitor against the scraper response\n            peviitor_actual_cities, peviitor_job_titles = self.get_different_items(actual_cities, expected_cities, api_job_titles)\n            if peviitor_actual_cities:\n                msg = f\"Peviitor is having extra job cities for the following job titles: {peviitor_job_titles}\"\n                allure.step(msg)\n>               raise AssertionError(msg)\nE               AssertionError: Peviitor is having extra job cities for the following job titles: ['Specialist OH - Relatia Cu Clientii Corporate', 'Medic Medicina Generala MM Poliana', 'Asistent medical backup', 'Asistent Medical MM Poliana', 'Reprezentant Sales Support - Stem', 'Senior Specialist Relatia cu Autoritatile', 'Patient Advisor Backup', 'Senior Key Account Sales Manager', 'Medic Specialist Recuperare Medicala', 'Specialist Retentie si Loializare', 'Digital Marketing Specialist', 'Specialist backoffice medical', 'Digital Marketing Specialist', 'Specialist backoffice medical', 'Specialist laborator - divizia Poliana', 'Reprezentant vanzari Stem backup', 'Specialist laborator Poliana', 'Coordonator Puncte Recoltare - Cluj', 'Receptionist-Poliana', 'Senior Receptionist divizia Poliana', 'Receptionist - divizia Poliana', 'Asistent medical recoltare -Poliana', 'Medic Medicina Muncii', 'Asistent medical Medicina Muncii-divizia Poliana', 'Medic Medicina Muncii', 'Asistent medical Medicina Muncii-divizia Poliana', 'Asistent Medical Ambulatoriu', 'Asistent medical recoltare -Poliana', 'Medic Stomatolog Brasov', 'Medic Specialist Recuperare Medicala']\n\ntests/utils.py:148: AssertionError"}, "steps": [{"name": "Step 1: Get job cities and titles from the scraper", "status": "passed", "start": 1712812340417, "stop": 1712812340417}, {"name": "Step 2: Get job cities and titles from the Peviitor API", "status": "passed", "start": 1712812340417, "stop": 1712812340417}, {"name": "Step 3: Compare job cities from scraper response against Peviitor API Response", "status": "failed", "statusDetails": {"message": "AssertionError: Peviitor is having extra job cities for the following job titles: ['Specialist OH - Relatia Cu Clientii Corporate', 'Medic Medicina Generala MM Poliana', 'Asistent medical backup', 'Asistent Medical MM Poliana', 'Reprezentant Sales Support - Stem', 'Senior Specialist Relatia cu Autoritatile', 'Patient Advisor Backup', 'Senior Key Account Sales Manager', 'Medic Specialist Recuperare Medicala', 'Specialist Retentie si Loializare', 'Digital Marketing Specialist', 'Specialist backoffice medical', 'Digital Marketing Specialist', 'Specialist backoffice medical', 'Specialist laborator - divizia Poliana', 'Reprezentant vanzari Stem backup', 'Specialist laborator Poliana', 'Coordonator Puncte Recoltare - Cluj', 'Receptionist-Poliana', 'Senior Receptionist divizia Poliana', 'Receptionist - divizia Poliana', 'Asistent medical recoltare -Poliana', 'Medic Medicina Muncii', 'Asistent medical Medicina Muncii-divizia Poliana', 'Medic Medicina Muncii', 'Asistent medical Medicina Muncii-divizia Poliana', 'Asistent Medical Ambulatoriu', 'Asistent medical recoltare -Poliana', 'Medic Stomatolog Brasov', 'Medic Specialist Recuperare Medicala']\n", "trace": "  File \"/home/runner/work/RaresTestHub/RaresTestHub/tests/Test_API_Suite/test_reginamaria.py\", line 56, in test_reginamaria_city_api\n    TestUtils().check_job_cities(job_cities_scraper, job_cities_peviitor, job_titles_scraper, job_titles_peviitor)\n  File \"/home/runner/work/RaresTestHub/RaresTestHub/tests/utils.py\", line 148, in check_job_cities\n    raise AssertionError(msg)\n"}, "attachments": [{"name": "Expected Results", "source": "589d6477-d7e6-41ca-ab54-529e8ddfc3e2-attachment.attach"}, {"name": "Actual Results", "source": "90c726e5-e498-4d16-abb2-893d4490a2d3-attachment.attach"}], "start": 1712812340417, "stop": 1712812340417}], "start": 1712812340417, "stop": 1712812340418, "uuid": "d596a198-ef22-4814-a964-9726e2eb01e1", "historyId": "f5911873302c974b4dcb4faf17c343ef", "testCaseId": "f5911873302c974b4dcb4faf17c343ef", "fullName": "Test_API_Suite.test_reginamaria#test_reginamaria_city_api", "labels": [{"name": "tag", "value": "API"}, {"name": "tag", "value": "regression"}, {"name": "parentSuite", "value": "Test_API_Suite"}, {"name": "suite", "value": "test_reginamaria"}, {"name": "host", "value": "fv-az1025-504"}, {"name": "thread", "value": "2199-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Test_API_Suite.test_reginamaria"}]}