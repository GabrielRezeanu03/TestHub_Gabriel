{"name": "Test job cities from the nagarro website against Peviitor API Response", "status": "failed", "statusDetails": {"message": "AssertionError: Peviitor is missing job cities for the following job titles: ['Engineer ,SAP Spend Management', 'Engineer ,Sap Development BTP', 'Senior Staff Consultant ,SAP Basis', 'Senior Staff Consultant ,SAP Financial Management', 'Senior Staff Consultant ,SAP Human Experience Management', 'Senior Staff Consultant ,SAP Industry Solutions', 'Senior Staff Consultant ,Sap Development BTP', 'Staff Consultant ,SAP Enterprise Assest Management', 'Staff Consultant ,SAP Human Experience Management', 'Staff Consultant ,SAP Industry Solutions', 'Staff Engineer, DBA SQL', 'Associate Principal Engineer, InfraOps', 'Associate Staff Engineer, InfraOps', 'Senior Staff Engineer, InfraOps']", "trace": "get_job_details = ((['Staff Engineer, InfraOps', 'Senior Staff Consultant, Business Analyst', 'Staff Consultant, Business Analyst', 'Ass...RRO SRL', 'NAGARRO SRL', 'NAGARRO SRL', ...], ['on-site', 'on-site', 'on-site', 'on-site', 'on-site', 'on-site', ...]))\n\n    @pytest.mark.regression\n    @pytest.mark.API\n    def test_nagarro_city_api(get_job_details):\n        allure.dynamic.title(f\"Test job cities from the {company_name} website against Peviitor API Response\")\n    \n        scraped_jobs_data, peviitor_jobs_data = get_job_details\n        with allure.step(\"Step 1: Get job cities and titles from the scraper\"):\n            job_cities_scraper = scraped_jobs_data[1]\n            job_titles_scraper = scraped_jobs_data[0]\n    \n        with allure.step(\"Step 2: Get job cities and titles from the Peviitor API\"):\n            job_cities_peviitor = peviitor_jobs_data[1]\n            job_titles_peviitor = peviitor_jobs_data[0]\n    \n        with allure.step(\"Step 3: Compare job cities from scraper response against Peviitor API Response\"):\n            allure.attach(f\"Expected Results: {job_cities_scraper}\", name=\"Expected Results\")\n            allure.attach(f\"Actual Results: {job_cities_peviitor}\", name=\"Actual Results\")\n>           TestUtils().check_job_cities(job_cities_scraper, job_cities_peviitor, job_titles_scraper, job_titles_peviitor)\n\ntests/Test_API_Suite/test_nagarro.py:56: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <tests.utils.TestUtils object at 0x7fa321ad2f80>\nexpected_cities = [['Bucuresti', 'Brasov', 'Cluj-Napoca', 'Timisoara'], ['Bucuresti', 'Brasov', 'Cluj-Napoca', 'Timisoara'], ['Bucuresti...soara'], ['Bucuresti', 'Brasov', 'Cluj-Napoca', 'Timisoara'], ['Bucuresti', 'Brasov', 'Cluj-Napoca', 'Timisoara'], ...]\nactual_cities = [['TIMISOARA'], ['TIMISOARA'], ['BRASOV'], ['BRASOV'], ['TIMISOARA'], ['BRASOV'], ...]\njob_titles_scraper = ['Staff Engineer, InfraOps', 'Senior Staff Consultant, Business Analyst', 'Staff Consultant, Business Analyst', 'Assoc...ssociate Staff Consultant ,SAP Human Experience Management', 'Associate Staff Consultant ,SAP Industry Solutions', ...]\napi_job_titles = ['PROGRAMATOR AJUTOR', 'PROGRAMATOR', 'PROGRAMATOR', 'MANAGER PROIECT INFORMATIC', 'PROGRAMATOR AJUTOR', 'PROGRAMATOR', ...]\n\n    def check_job_cities(self, expected_cities, actual_cities, job_titles_scraper, api_job_titles):\n        if not expected_cities:\n            msg = f\"Scraper is not grabbing any job cities\"\n            allure.step(msg)\n            raise AssertionError(msg)\n    \n        msg = \"An unknown error occurred\"\n    \n        # Check jobs from scraper against the peviitor api\n        scraper_actual_cities, scraper_job_titles = self.get_different_items(expected_cities, actual_cities, job_titles_scraper)\n    \n        if scraper_actual_cities:\n            msg = f\"Peviitor is missing job cities for the following job titles: {scraper_job_titles}\"\n            allure.step(msg)\n>           raise AssertionError(msg)\nE           AssertionError: Peviitor is missing job cities for the following job titles: ['Engineer ,SAP Spend Management', 'Engineer ,Sap Development BTP', 'Senior Staff Consultant ,SAP Basis', 'Senior Staff Consultant ,SAP Financial Management', 'Senior Staff Consultant ,SAP Human Experience Management', 'Senior Staff Consultant ,SAP Industry Solutions', 'Senior Staff Consultant ,Sap Development BTP', 'Staff Consultant ,SAP Enterprise Assest Management', 'Staff Consultant ,SAP Human Experience Management', 'Staff Consultant ,SAP Industry Solutions', 'Staff Engineer, DBA SQL', 'Associate Principal Engineer, InfraOps', 'Associate Staff Engineer, InfraOps', 'Senior Staff Engineer, InfraOps']\n\ntests/utils.py:141: AssertionError"}, "steps": [{"name": "Step 1: Get job cities and titles from the scraper", "status": "passed", "start": 1719465182103, "stop": 1719465182103}, {"name": "Step 2: Get job cities and titles from the Peviitor API", "status": "passed", "start": 1719465182103, "stop": 1719465182103}, {"name": "Step 3: Compare job cities from scraper response against Peviitor API Response", "status": "failed", "statusDetails": {"message": "AssertionError: Peviitor is missing job cities for the following job titles: ['Engineer ,SAP Spend Management', 'Engineer ,Sap Development BTP', 'Senior Staff Consultant ,SAP Basis', 'Senior Staff Consultant ,SAP Financial Management', 'Senior Staff Consultant ,SAP Human Experience Management', 'Senior Staff Consultant ,SAP Industry Solutions', 'Senior Staff Consultant ,Sap Development BTP', 'Staff Consultant ,SAP Enterprise Assest Management', 'Staff Consultant ,SAP Human Experience Management', 'Staff Consultant ,SAP Industry Solutions', 'Staff Engineer, DBA SQL', 'Associate Principal Engineer, InfraOps', 'Associate Staff Engineer, InfraOps', 'Senior Staff Engineer, InfraOps']\n", "trace": "  File \"/home/runner/work/RaresTestHub/RaresTestHub/tests/Test_API_Suite/test_nagarro.py\", line 56, in test_nagarro_city_api\n    TestUtils().check_job_cities(job_cities_scraper, job_cities_peviitor, job_titles_scraper, job_titles_peviitor)\n  File \"/home/runner/work/RaresTestHub/RaresTestHub/tests/utils.py\", line 141, in check_job_cities\n    raise AssertionError(msg)\n"}, "attachments": [{"name": "Expected Results", "source": "1118a177-119e-4d0b-9cf9-eb4883af0b0a-attachment.attach"}, {"name": "Actual Results", "source": "66400f70-4a7e-4b49-ac10-7815ede88b4c-attachment.attach"}], "start": 1719465182103, "stop": 1719465182104}], "start": 1719465182103, "stop": 1719465182104, "uuid": "9d30361d-1868-4f3a-afb2-6df9e333486e", "historyId": "8609bf6b3bde00dfade609fccf0ffd78", "testCaseId": "8609bf6b3bde00dfade609fccf0ffd78", "fullName": "Test_API_Suite.test_nagarro#test_nagarro_city_api", "labels": [{"name": "tag", "value": "API"}, {"name": "tag", "value": "regression"}, {"name": "parentSuite", "value": "Test_API_Suite"}, {"name": "suite", "value": "test_nagarro"}, {"name": "host", "value": "fv-az1497-619"}, {"name": "thread", "value": "1967-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "Test_API_Suite.test_nagarro"}]}