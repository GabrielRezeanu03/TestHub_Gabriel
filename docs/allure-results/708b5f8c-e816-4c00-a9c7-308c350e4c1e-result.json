{"name": "Test job titles from the Nagarro website against Peviitor API Response", "status": "failed", "statusDetails": {"message": "AssertionError: Peviitor is having the following extra jobs titles: ['Staff Engineer, Frontend Angular2x']\n  \n  \nassert ['Engineer, C...Service', ...] == ['Engineer, C...Service', ...]\n  At index 10 diff: 'Staff Engineer, InfraOps' != 'Staff Engineer, Frontend Angular2x'\n  Right contains one more item: 'Staff Engineer, QA Automation'\n  Full diff:\n    [\n     'Engineer, CRM Salesforce',\n     'Engineer, Cloud',\n     'Principal Consultant, Business Analyst',\n     'Principal Engineer, Java',\n     'Senior Staff Consultant ,SAP Basis',\n     'Senior Staff Consultant ,SAP Sales Service',\n     'Staff Consultant ,SAP Human Experience Management',\n     'Staff Consultant ,SAP Industry Solutions',\n     'Staff Consultant, Talent Acquisition',\n     'Staff Engineer, C++',\n  -  'Staff Engineer, Frontend Angular2x',\n     'Staff Engineer, InfraOps',\n     'Staff Engineer, Java',\n     'Staff Engineer, PHP',\n     'Staff Engineer, QA Automation',\n    ]", "trace": "self = <test_api.TestScrapers object at 0x7f3f46c57340>\nsetup_tests = <test_api.SetupTests object at 0x7f3f464d4610>\n\n    @pytest.mark.regression\n    @pytest.mark.API\n    def test_scrapers_title(self, setup_tests):\n    \n        # Dynamically set the title with the company name\n        company_name = setup_tests.scraper_data[1]\n        allure.dynamic.title(f\"Test job titles from the {company_name} website against Peviitor API Response\")\n    \n        with allure.step(\"Step 1: Get job titles from the scraper\"):\n            job_titles_scraper = sorted(setup_tests.scraped_jobs_data[0])\n    \n        with allure.step(\"Step 2: Get job titles from the Peviitor API\"):\n            job_titles_peviitor = sorted(setup_tests.peviitor_jobs_data[0])\n    \n        missing_job_titles = []\n        # Itterate over job titles and if not present on peviitor add to missing job title list\n        for job_title in job_titles_scraper:\n            if job_title not in job_titles_peviitor:\n                missing_job_titles.append(job_title)\n    \n        with allure.step(\"Step 3: Compare job titles from scraper response against Peviitor API Response\"):\n            # If the missing job list is empty it might mean there are more jobs on peviitor than needed\n            if missing_job_titles == []:\n                missing_job_titles_peviitor = []\n                for job_title in job_titles_peviitor:\n                    if job_title not in job_titles_scraper:\n                        missing_job_titles_peviitor.append(job_title)\n    \n                # If there are way too many jobs titles only list a couple of them\n                if len(missing_job_titles_peviitor) > 20:\n                    missing_job_titles_peviitor = f\"{missing_job_titles_peviitor[:5]} and many more\"\n    \n                print(f\"Expected Results: {job_titles_scraper}\\n\")\n                print(f\"Actual Results: {job_titles_peviitor}\")\n>               assert job_titles_scraper == job_titles_peviitor, f\"Peviitor is having the following extra jobs titles: {missing_job_titles_peviitor}\\n\\n\"\nE               AssertionError: Peviitor is having the following extra jobs titles: ['Staff Engineer, Frontend Angular2x']\nE                 \nE                 \nE               assert ['Engineer, C...Service', ...] == ['Engineer, C...Service', ...]\nE                 At index 10 diff: 'Staff Engineer, InfraOps' != 'Staff Engineer, Frontend Angular2x'\nE                 Right contains one more item: 'Staff Engineer, QA Automation'\nE                 Full diff:\nE                   [\nE                    'Engineer, CRM Salesforce',\nE                    'Engineer, Cloud',\nE                    'Principal Consultant, Business Analyst',\nE                    'Principal Engineer, Java',\nE                    'Senior Staff Consultant ,SAP Basis',\nE                    'Senior Staff Consultant ,SAP Sales Service',\nE                    'Staff Consultant ,SAP Human Experience Management',\nE                    'Staff Consultant ,SAP Industry Solutions',\nE                    'Staff Consultant, Talent Acquisition',\nE                    'Staff Engineer, C++',\nE                 -  'Staff Engineer, Frontend Angular2x',\nE                    'Staff Engineer, InfraOps',\nE                    'Staff Engineer, Java',\nE                    'Staff Engineer, PHP',\nE                    'Staff Engineer, QA Automation',\nE                   ]\n\ntests/test_api.py:86: AssertionError"}, "steps": [{"name": "Step 1: Get job titles from the scraper", "status": "passed", "start": 1704258565028, "stop": 1704258565028}, {"name": "Step 2: Get job titles from the Peviitor API", "status": "passed", "start": 1704258565028, "stop": 1704258565028}, {"name": "Step 3: Compare job titles from scraper response against Peviitor API Response", "status": "failed", "statusDetails": {"message": "AssertionError: Peviitor is having the following extra jobs titles: ['Staff Engineer, Frontend Angular2x']\n  \n  \nassert ['Engineer, C...Service', ...] == ['Engineer, C...Service', ...]\n  At index 10 diff: 'Staff Engineer, InfraOps' != 'Staff Engineer, Frontend Angular2x'\n  Right contains one more item: 'Staff Engineer, QA Automation'\n  Full diff:\n    [\n     'Engineer, CRM Salesforce',\n     'Engineer, Cloud',\n     'Principal Consultant, Business Analyst',\n     'Principal Engineer, Java',\n     'Senior Staff Consultant ,SAP Basis',\n     'Senior Staff Consultant ,SAP Sales Service',\n     'Staff Consultant ,SAP Human Experience Management',\n     'Staff Consultant ,SAP Industry Solutions',\n     'Staff Consultant, Talent Acquisition',\n     'Staff Engineer, C++',\n  -  'Staff Engineer, Frontend Angular2x',\n     'Staff Engineer, InfraOps',\n     'Staff Engineer, Java',\n     'Staff Engineer, PHP',\n     'Staff Engineer, QA Automation',\n    ]\n", "trace": "  File \"/home/runner/work/RaresTestHub/RaresTestHub/tests/test_api.py\", line 86, in test_scrapers_title\n    assert job_titles_scraper == job_titles_peviitor, f\"Peviitor is having the following extra jobs titles: {missing_job_titles_peviitor}\\n\\n\"\n"}, "start": 1704258565028, "stop": 1704258565028}], "attachments": [{"name": "stdout", "source": "a69b5edb-eab9-4a2d-93d1-36f0fe56e6e4-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "scraper_class", "value": "<class 'sites.nagarro.NagarroScraper'>"}], "start": 1704258565028, "stop": 1704258565029, "uuid": "3c5e5fe1-f552-4872-ab4a-1866ee6bacac", "historyId": "999e1d25b6df3da9ee2a2bdb313c29bd", "testCaseId": "4b62ec59580b850c2662da4323212e24", "fullName": "test_api.TestScrapers#test_scrapers_title", "labels": [{"name": "tag", "value": "API"}, {"name": "tag", "value": "regression"}, {"name": "suite", "value": "test_api"}, {"name": "subSuite", "value": "TestScrapers"}, {"name": "host", "value": "fv-az1109-439"}, {"name": "thread", "value": "1939-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "test_api"}]}